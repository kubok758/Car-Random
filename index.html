<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ULTIMATE CAR RANDOMIZER</title>
    <style>
        :root {
            --bg: #0b0b0b;
            --card: #141414;
            --text: #e0e0e0;
            --eco: #00ff9d;   /* Ядовито-зеленый */
            --mid: #00eaff;   /* Кибер-голубой */
            --pre: #d600ff;   /* Неон-фиолетовый */
            --lux: #ffbd00;   /* Золотой */
        }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Arial Black', 'Impact', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            user-select: none;
            overflow: hidden;
            /* Техническая строка: отключает задержку клика на мобилках */
            touch-action: manipulation; 
            -webkit-tap-highlight-color: transparent;
        }

        .wrapper {
            width: 100%;
            max-width: 700px;
            text-align: center;
            position: relative;
            padding: 10px;
        }

        h1 {
            font-size: 2rem;
            text-transform: uppercase;
            letter-spacing: 4px;
            color: #333;
            margin-bottom: 40px;
        }

        /* Окно выдачи - Тот самый массивный дизайн */
        .output-box {
            background: var(--card);
            border: 2px solid #333;
            border-radius: 12px;
            padding: 50px 20px;
            margin-bottom: 40px;
            position: relative;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            transition: 0.1s transform;
            cursor: pointer;
        }

        .output-box:active { transform: scale(0.98); }

        #carName {
            font-size: 2.2rem; /* Крупный шрифт вернулся */
            line-height: 1.1;
            text-transform: uppercase;
            background: -webkit-linear-gradient(#fff, #aaa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.1));
            min-height: 2.4em;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #tierLabel {
            font-family: 'Segoe UI', sans-serif;
            font-size: 0.9rem;
            margin-top: 15px;
            letter-spacing: 3px;
            color: #555;
            font-weight: 700;
        }

        /* Кнопка - Массивная */
        .btn {
            background: #fff;
            color: #000;
            border: none;
            padding: 25px 0;
            width: 100%;
            font-size: 1.5rem;
            font-weight: 900;
            text-transform: uppercase;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.1s;
            box-shadow: 0 0 20px rgba(255,255,255,0.1);
        }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 0 40px rgba(255,255,255,0.3); }
        .btn:active { transform: translateY(2px); background: #ddd; }
        .btn:disabled { background: #333; color: #555; transform: none; box-shadow: none;}

        /* Свечение */
        .glow-eco { border-color: var(--eco); box-shadow: 0 0 40px rgba(0,255,157,0.15); }
        .glow-eco #carName { background: -webkit-linear-gradient(#fff, var(--eco)); -webkit-background-clip: text; }
        
        .glow-mid { border-color: var(--mid); box-shadow: 0 0 50px rgba(0,234,255,0.2); }
        .glow-mid #carName { background: -webkit-linear-gradient(#fff, var(--mid)); -webkit-background-clip: text; }
        
        .glow-pre { border-color: var(--pre); box-shadow: 0 0 60px rgba(214,0,255,0.25); }
        .glow-pre #carName { background: -webkit-linear-gradient(#fff, var(--pre)); -webkit-background-clip: text; }
        
        .glow-lux { border-color: var(--lux); box-shadow: 0 0 80px rgba(255,189,0,0.3); }
        .glow-lux #carName { background: -webkit-linear-gradient(#fff, var(--lux)); -webkit-background-clip: text; }

        /* Админка (Скрытая) */
        #cheatPanel {
            display: none;
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #000;
            border: 2px solid red;
            padding: 10px;
            z-index: 100;
            box-shadow: 0 0 30px rgba(255,0,0,0.5);
            width: 80%;
            max-width: 400px;
            text-align: center;
        }
        .cheat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 5px; margin-top: 5px; }
        .cheat-btn { padding: 15px; cursor: pointer; font-weight: bold; border:none; font-size: 1rem; }
    </style>
</head>
<body>

<div class="wrapper">
    <div id="cheatPanel">
        <div style="color:red; font-size:10px; font-weight:bold">ADMIN MODE</div>
        <div class="cheat-grid">
            <button class="cheat-btn" style="background:var(--eco)" onclick="activateCheat('economy')">ECO</button>
            <button class="cheat-btn" style="background:var(--mid)" onclick="activateCheat('middle')">MID</button>
            <button class="cheat-btn" style="background:var(--pre); color:white" onclick="activateCheat('premium')">PREM</button>
            <button class="cheat-btn" style="background:var(--lux)" onclick="activateCheat('luxury')">LUX</button>
        </div>
    </div>

    <h1>Car Randomizer <span style="font-size:0.5em; color:#555">Infinite Ed.</span></h1>

    <div class="output-box" id="box">
        <div id="carName">READY</div>
        <div id="tierLabel">PRESS BUTTON</div>
    </div>

    <button class="btn" id="spinBtn" onclick="spin()">GENERATE</button>
</div>

<script>
    // === ГЕНЕРАТОР БАЗЫ ДАННЫХ ===
    const r = (arr) => arr[Math.floor(Math.random() * arr.length)];

    // 1. ECONOMY
    function genEconomy() {
        const pool = [
            () => `Lada Priora ${r(['Sedan', 'Hatchback', 'Coupe'])}`,
            () => `Lada Vesta ${r(['NG', 'SW Cross', 'Sport', '1.8'])}`,
            () => `Lada Granta ${r(['Drive Active', 'Sport', 'FL'])}`,
            () => `Lada 2114 ${r(['Super-Avto', '1.6'])}`,
            () => `Volkswagen Polo ${r(['Sedan', 'GT', 'Liftback'])}`,
            () => `Skoda Rapid ${r(['1.4 TSI', '1.6 MPI', 'Monte Carlo'])}`,
            () => `Skoda Octavia ${r(['A5', 'A7', 'A8'])} 1.6 MPI`,
            () => `Hyundai Solaris ${r(['1.6 MT', '1.6 AT', 'Restyling'])}`,
            () => `Kia Rio ${r(['3', '4', 'X-Line'])}`,
            () => `Toyota Corolla ${r(['120', '150'])}`,
            () => `Honda Civic ${r(['EK3', 'EK9', 'ES', '4D', '5D'])}`,
            () => `Mazda 3 ${r(['BK', 'BL', 'BM'])}`,
            () => `Mitsubishi Lancer ${r(['9', 'X 1.8', 'X 2.0'])}`
        ];
        return r(pool)();
    }

    // 2. MIDDLE
    function genMiddle() {
        const brands = {
            toyota: [
                { model: "Mark II", chassis: ["JZX90", "JZX100", "JZX110"], trims: ["Grande", "Tourer S", "Tourer V", "iR-V"] },
                { model: "Chaser", chassis: ["JZX100", "JZX90"], trims: ["Tourer V", "Avante G"] },
                { model: "Cresta", chassis: ["JZX90", "JZX100"], trims: ["Roulant G", "Super Lucent"] },
                { model: "Crown", chassis: ["S170", "S180", "S200", "S210"], trims: ["Athlete", "Majesta", "Royal Saloon"] },
                { model: "Camry", chassis: ["XV40", "XV50", "XV55", "XV70"], trims: ["3.5 V6", "2.5", "Hybrid"] },
                { model: "Altezza", chassis: ["SXE10"], trims: ["RS200", "AS200"] }
            ],
            nissan: [
                { model: "Silvia", chassis: ["S13", "S14", "S15"], trims: ["Spec-R", "Spec-S", "Q's", "K's"] },
                { model: "Skyline", chassis: ["R32", "R33", "R34"], trims: ["GTS-T", "GT-T", "Sedan"] },
                { model: "Laurel", chassis: ["C33", "C34", "C35"], trims: ["Club-S", "Medalist"] },
                { model: "Teana", chassis: ["J31", "J32"], trims: ["3.5 V6", "2.5"] }
            ],
            subaru: [
                { model: "Impreza WRX STI", chassis: ["GC8", "GDB Peanut", "GDB Blobeye", "GDB Hawkeye", "GRB", "VA"], trims: [""] },
                { model: "Forester", chassis: ["SF5", "SG5", "SG9", "SH"], trims: ["STI", "Cross Sports", "XT"] }
            ],
            honda: [
                { model: "Accord", chassis: ["CL7", "CL9", "CU2", "CV"], trims: ["Euro-R", "Type-S", "2.4"] },
                { model: "Civic", chassis: ["Type-R EP3", "Type-R FN2", "Type-R FD2"], trims: [""] }
            ]
        };
        const brandKey = r(Object.keys(brands));
        const car = r(brands[brandKey]);
        const chassis = r(car.chassis);
        const trim = r(car.trims);
        const brandName = brandKey.charAt(0).toUpperCase() + brandKey.slice(1);
        return `${brandName} ${car.model} ${chassis} ${trim}`;
    }

    // 3. PREMIUM
    function genPremium() {
        const germans = [
            { 
                brand: "BMW", 
                configs: [
                    { ch: "E36", eng: ["318is", "320i", "325i", "328i", "M3"] },
                    { ch: "E46", eng: ["320i", "325i", "330Ci", "330d", "M3", "M3 CSL"] },
                    { ch: "E92", eng: ["320i", "325i", "330d", "335i", "M3"] },
                    { ch: "F30", eng: ["320d", "328i", "330i", "335i", "340i"] },
                    { ch: "F80", eng: ["M3", "M3 Competition", "M3 CS"] },
                    { ch: "G20", eng: ["320d", "330i", "M340i"] },
                    { ch: "G80", eng: ["M3", "M3 Competition"] },
                    { ch: "E34", eng: ["525i", "530i", "540i", "M5 3.8"] },
                    { ch: "E39", eng: ["525i", "530d", "540i", "M5"] },
                    { ch: "E60", eng: ["525i", "530d", "535d", "545i", "550i", "M5"] },
                    { ch: "F10", eng: ["520d", "528i", "530d", "535i", "550i", "M550d", "M5"] },
                    { ch: "F90", eng: ["M5", "M5 Competition", "M5 CS"] },
                    { ch: "G30", eng: ["530d", "540i", "M550i"] },
                    { ch: "E38", eng: ["730d", "740i", "750iL"] },
                    { ch: "G12", eng: ["740d", "750Li", "M760Li"] },
                    { ch: "E53", eng: ["X5 3.0d", "X5 4.4i", "X5 4.8is"] },
                    { ch: "E70", eng: ["X5 3.0d", "X5 4.8i", "X5M"] },
                    { ch: "F15", eng: ["X5 40d", "X5 M50d"] },
                    { ch: "F85", eng: ["X5M"] },
                    { ch: "G05", eng: ["X5 30d", "X5 40i", "X5 M50d"] },
                    { ch: "F95", eng: ["X5M Competition"] },
                    { ch: "G07", eng: ["X7 M50d", "X7 M60i"] }
                ]
            },
            {
                brand: "Mercedes-Benz",
                configs: [
                    { ch: "W204", eng: ["C180", "C200", "C250", "C300", "C350", "C63 AMG", "C63 AMG Black Series"] },
                    { ch: "W205", eng: ["C180", "C200 4Matic", "C43 AMG", "C63 S AMG"] },
                    { ch: "W211", eng: ["E200 Kompressor", "E320 CDI", "E500", "E55 AMG", "E63 AMG"] },
                    { ch: "W212", eng: ["E200", "E250 CDI", "E300", "E350", "E400", "E63 AMG", "E63 S AMG"] },
                    { ch: "W213", eng: ["E200d", "E220d", "E300", "E400d", "E53 AMG", "E63 S AMG"] },
                    { ch: "W140", eng: ["S500", "S600"] },
                    { ch: "W222", eng: ["S350d", "S500", "S63 AMG", "S65 AMG"] },
                    { ch: "W223", eng: ["S450", "S580", "S680 Maybach"] },
                    { ch: "W463", eng: ["G500", "G55 AMG", "G63 AMG"] },
                    { ch: "W464", eng: ["G63 AMG", "G350d"] }
                ]
            },
            {
                brand: "Audi",
                configs: [
                    { ch: "C6", eng: ["A6 3.0 TDI", "S6 V10", "RS6 Avant"] },
                    { ch: "C7", eng: ["A6 3.0 TFSI", "A7 3.0 TDI", "S7", "RS6 Performance", "RS7"] },
                    { ch: "C8", eng: ["A6 55 TFSI", "RS6 Avant", "RS7 Sportback"] },
                    { ch: "8V", eng: ["S3 Sedan", "RS3 Sportback"] },
                    { ch: "B9", eng: ["A4 2.0 TFSI", "A5 Sportback", "RS4 Avant", "RS5 Coupe"] },
                    { ch: "4M", eng: ["Q7 3.0 TDI", "Q8 50 TDI", "SQ8", "RS Q8"] }
                ]
            }
        ];
        const selectedBrand = r(germans);
        const config = r(selectedBrand.configs);
        const engine = r(config.eng);
        return `${selectedBrand.brand} ${engine} ${config.ch}`;
    }

    // 4. LUXURY
    function genLuxury() {
        const hypers = [
            "Ferrari 488 Pista", "Ferrari F8 Tributo", "Ferrari 812 Superfast", "Ferrari SF90 Stradale", "Ferrari LaFerrari", "Ferrari Enzo", "Ferrari F40",
            "Lamborghini Aventador SVJ", "Lamborghini Huracan Performante", "Lamborghini Urus", "Lamborghini Revuelto", "Lamborghini Murcielago SV", "Lamborghini Diablo VT",
            "Porsche 911 Turbo S (992)", "Porsche 911 GT3 RS (992)", "Porsche 911 GT2 RS (991)", "Porsche Carrera GT", "Porsche 918 Spyder",
            "Bugatti Chiron", "Bugatti Chiron Super Sport", "Bugatti Divo", "Bugatti Veyron Super Sport",
            "McLaren 720S", "McLaren 765LT", "McLaren P1", "McLaren Senna",
            "Rolls-Royce Phantom", "Rolls-Royce Cullinan", "Rolls-Royce Wraith",
            "Bentley Continental GT Speed", "Bentley Bentayga",
            "Koenigsegg Agera RS", "Koenigsegg Jesko",
            "Pagani Huayra BC"
        ];
        return r(hypers);
    }

    // === ЛОГИКА ===
    let cheatNext = null;
    const carNameEl = document.getElementById('carName');
    const tierLabelEl = document.getElementById('tierLabel');
    const box = document.getElementById('box');
    const spinBtn = document.getElementById('spinBtn');
    const cheatPanel = document.getElementById('cheatPanel');

    // Админка (С защитой от зума)
    let clicks = 0;
    let timer;
    box.addEventListener('click', () => {
        clicks++;
        clearTimeout(timer);
        timer = setTimeout(() => clicks = 0, 400);
        if (clicks === 10) {
            clicks = 0;
            if (navigator.vibrate) navigator.vibrate(50);
            if (prompt("CODE:") === "758") cheatPanel.style.display = 'block';
        }
    });

    function activateCheat(tier) {
        cheatNext = tier;
        cheatPanel.style.display = 'none';
        if (navigator.vibrate) navigator.vibrate([50, 50]);
        alert("Next: " + tier.toUpperCase());
    }

    function spin() {
        if (spinBtn.disabled) return;
        spinBtn.disabled = true;
        
        box.className = 'output-box'; 
        carNameEl.style.opacity = 0.5;
        tierLabelEl.innerText = "SEARCHING...";

        let speed = 50;
        let steps = 0;
        const maxSteps = 20 + Math.floor(Math.random() * 10);

        function tick() {
            const funcs = [genEconomy, genMiddle, genPremium, genLuxury];
            carNameEl.innerText = funcs[Math.floor(Math.random()*funcs.length)]();
            
            steps++;
            if (steps < maxSteps) {
                if(steps > maxSteps - 5) speed += 30;
                setTimeout(tick, speed);
            } else {
                finalize();
            }
        }
        tick();
    }

    function finalize() {
        let tier;
        if (cheatNext) {
            tier = cheatNext;
            cheatNext = null;
        } else {
            const rand = Math.random();
            if (rand < 0.25) tier = 'economy';
            else if (rand < 0.50) tier = 'middle';
            else if (rand < 0.75) tier = 'premium';
            else tier = 'luxury';
        }

        let resultName = "";
        let label = "";

        if (tier === 'economy') {
            resultName = genEconomy();
            label = "TIER 1: ECONOMY / STOCK";
            box.classList.add('glow-eco');
        } else if (tier === 'middle') {
            resultName = genMiddle();
            label = "TIER 2: JDM / TUNING";
            box.classList.add('glow-mid');
        } else if (tier === 'premium') {
            resultName = genPremium();
            label = "TIER 3: GERMAN POWER";
            box.classList.add('glow-pre');
        } else {
            resultName = genLuxury();
            label = "TIER 4: EXOTIC / HYPERCAR";
            box.classList.add('glow-lux');
        }

        carNameEl.innerText = resultName;
        carNameEl.style.opacity = 1;
        tierLabelEl.innerText = label;
        spinBtn.disabled = false;
        if (navigator.vibrate) navigator.vibrate(20);
    }
</script>

</body>
</html>
